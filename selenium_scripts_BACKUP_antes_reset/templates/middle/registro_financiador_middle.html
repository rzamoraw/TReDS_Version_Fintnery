{% extends "base.html" %}
{% block title %}Registrar Financiador - Middle Office{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4">Registrar Financiador</h2>

    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}
    {% if success %}
        <div class="alert alert-success">{{ success }}</div>
    {% endif %}

    <form method="post" action="/middle/registrar-financiador">
        <div class="mb-3">
            <label for="nombre" class="form-label">Nombre del Financiador</label>
            <input type="text" class="form-control" id="nombre" name="nombre" required>
        </div>
        <div class="mb-3">
            <label for="usuario" class="form-label">Usuario</label>
            <input type="text" class="form-control" id="usuario" name="usuario" required>
        </div>
        <div class="mb-3">
            <label for="clave" class="form-label">Contraseña</label>
            <input type="password" class="form-control" id="clave" name="clave" required>
        </div>

        <!-- Fondo oculto desde sesión del administrador -->
        <input type="hidden" name="fondo_id" value="{{ fondo.id }}">
        <div class="mb-3">
            <label class="form-label">Fondo asociado</label>
            <input type="text" class="form-control" value="{{ fondo.nombre }}" readonly>
        </div>

        <div class="form-check mb-3">
            <input class="form-check-input" type="checkbox" id="es_admin" name="es_admin">
            <label class="form-check-label" for="es_admin">
                ¿Asignar como administrador del fondo?
            </label>
        </div>
        <button type="submit" class="btn btn-primary">Registrar Financiador</button>
    </form>
</div>
{% endblock %}